"use strict";!function r(i,a,c){function l(t,e){if(!a[t]){if(!i[t]){var n="function"==typeof require&&require;if(!e&&n)return n(t,!0);if(u)return u(t,!0);var s=new Error("Cannot find module '"+t+"'");throw s.code="MODULE_NOT_FOUND",s}var o=a[t]={exports:{}};i[t][0].call(o.exports,function(e){return l(i[t][1][e]||e)},o,o.exports,r,i,a,c)}return a[t].exports}for(var u="function"==typeof require&&require,e=0;e<c.length;e++)l(c[e]);return l}({1:[function(e,t,n){function y(){this._elems={body:document.querySelector("body"),overlay:document.createElement("div"),closeBtn:document.createElement("span"),window:document.createElement("div"),content:document.createElement("div")},this._elems.content.classList.add("popup__content"),this._elems.overlay.classList.add("overlay"),this._elems.closeBtn.className="popup__close",this._elems.window.classList.add("popup"),this._elems.body.appendChild(this._elems.overlay),this._elems.overlay.appendChild(this._elems.window),this._elems.window.appendChild(this._elems.closeBtn),this._elems.window.appendChild(this._elems.content)}window.onload=function(){var r=document.querySelector(".chat__messages"),e=document.querySelector(".send"),t=document.querySelector(".send__input"),i=document.querySelectorAll(".contact"),a=document.querySelector(".btn-menu"),n=document.querySelector(".search__input"),s={avatar:"dist/img/cageholder_4.jpg",type:"sended",chat:r};function o(){}((o.prototype=s).constructor=o).prototype.sendMessage=function(e){this.chat.innerHTML+='<div class="message message--'+this.type+'">\n\t\t<img src="'+this.avatar+'" alt="person" class="message__img">\n\t\t<p class="message__text">'+e+"</p>\n\t\t</div>"};var c=document.querySelectorAll(".contact")[0].querySelector("img").src;function l(){this.avatar=c,this.type="received"}((l.prototype=Object.create(s)).constructor=l).prototype.setAvatar=function(e){this.avatar=e},l.prototype.getPhrase=function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:function(){},n=new XMLHttpRequest;n.onreadystatechange=function(){4==n.readyState&&(200==n.status?t(n.responseText):500<=n.status?v.open("<h2>Server error</h2><p>Try to use our service later, please!</p>"):401==n.status?v.open("<h2>Error 401</h2><p>Autoriztion error. Please, Log in to the site and try again</p>"):400==n.status?v.open("<h2>Error 400</h2><p>Bad request. Syntax error</p>"):v.open("<h2>Request status: "+n.status+"</h2><p>Bad request. Syntax error</p>"))},n.open("GET",e),n.send()};var u=new l,d=new o;e.addEventListener("submit",function(e){e.preventDefault(),t.value&&(d.sendMessage(t.value),u.getPhrase("https://talaikis.com/api/quotes/random/",function(e){try{var t=JSON.parse(e)}catch(e){v.open("<h2>Syntax error</h2><p>Text us and we will solve it!</p>")}setTimeout(function(){if(null==t.quote)throw v.open("<h2>Syntax error</h2><p>Quote is not defined</p>"),new Error("json.quote is not defined");u.sendMessage(t.quote),r.scrollTo(0,r.scrollHeight)},500)}),t.value="")});for(var p={},h=0;h<i.length;h++)p[i[h].querySelector(".contact__name").innerHTML]={history:""},i[h].addEventListener("click",function(e){if(!this.classList.contains("is-active")){var t=document.querySelector(".contact.is-active").querySelector(".contact__name").innerHTML,n=this.querySelector(".contact__name").innerHTML;p[t].history=r.innerHTML;for(var s=0;s<i.length;s++)i[s].classList.remove("is-active");this.classList.add("is-active");var o=this.querySelector("img").src;u.setAvatar(o),r.innerHTML=p[n].history,r.scrollTo(0,r.scrollHeight),a.classList.remove("is-active")}});a.addEventListener("click",function(e){this.classList.toggle("is-active")});var m=document.querySelectorAll(".contact__name");n.addEventListener("input",function(){(function(e){for(var t=this.value.toLowerCase(),n=0;n<e.length;n++)e[n].textContent.toLowerCase().includes(t)&&t||!t?e[n].parentElement.style.display="flex":e[n].parentElement.style.display="none"}).call(this,m)});var v=new y;v._elems.overlay.addEventListener("click",function(e){v.close()}),v._elems.closeBtn.addEventListener("click",function(e){v.close()})},y.prototype.open=function(e){this._elems.content.innerHTML=e,this._elems.overlay.classList.add("is-active")},y.prototype.close=function(e){this._elems.overlay.classList.remove("is-active")}},{}]},{},[1]);